<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  å¦‚ä½•åœ¨Javaä¸­é¿å…equalsæ–¹æ³•çš„éšè—é™·é˜± - åšå®¢æœªå‘½å
  
  </title>
  
  
  <link href="atom.xml" rel="alternate" title="åšå®¢æœªå‘½å" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />
    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
  <script src="asset/highlightjs/highlight.pack.js"></script>
  <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">
  function before_search(){
    var searchVal = 'site:lixindong.top ' + document.getElementById('search_input').value;
    document.getElementById('search_q').value = searchVal;
    return true;
  }
</script>
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>


  <section class="top-bar-section">
  <div class="row">
      <div style="position: relative;width:100%;"><div style="position: absolute; width:100%;">
        <ul id="main-menu" class="left">
        
        <li id=""><a target="self" href="index.html">Home</a></li>
        
        <li id=""><a target="_self" href="archives.html">Archives</a></li>
        
        </ul>

        <ul class="right" id="search-wrap">
          <li>
<form target="_blank" onsubmit="return before_search();" action="http://google.com/search" method="get">
    <input type="hidden" id="search_q" name="q" value="" />
    <input tabindex="1" type="search" id="search_input"  placeholder="Search"/>
</form>
</li>
          </ul>
      </div></div>
  </div>
  </section>

</nav>

        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; åšå®¢æœªå‘½å</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
       
       <li><a href="index.html">HOME</a></li>
    <li><a href="archives.html">Archives</a></li>
    <li><a href="about.html">ABOUT</a></li>

    <li><label>Categories</label></li>

        
            <li><a href="%E7%94%9F%E6%B4%BB%E6%97%A5%E5%B8%B8.html">ç”Ÿæ´»æ—¥å¸¸</a></li>
        
            <li><a href="Android%E5%BC%80%E5%8F%91.html">Androidå¼€å‘</a></li>
        
            <li><a href="%E4%BA%A7%E5%93%81%E6%83%B3%E6%B3%95.html">äº§å“æƒ³æ³•</a></li>
        
            <li><a href="%E5%90%89%E5%AE%83%E5%AD%A6%E4%B9%A0%F0%9F%8E%B8.html">å‰å®ƒå­¦ä¹ ğŸ¸</a></li>
        
            <li><a href="web%E5%BC%80%E5%8F%91.html">webå¼€å‘</a></li>
        
            <li><a href="%E4%B9%A6%E7%B1%8D%E7%94%B5%E5%BD%B1.html">ä¹¦ç±ç”µå½±</a></li>
         

      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>


        <section id="main-content" role="main" class="scroll-container">
        
       

 <script type="text/javascript">
  $(function(){
    $('#menu_item_index').addClass('is_active');
  });
</script>
<div class="row">
  <div class="large-8 medium-8 columns">
      <div class="markdown-body article-wrap">
       <div class="article">
          
          <h1>å¦‚ä½•åœ¨Javaä¸­é¿å…equalsæ–¹æ³•çš„éšè—é™·é˜±</h1>
     
        <div class="read-more clearfix">
          <span class="date">2016/9/5</span>

          <span>posted in&nbsp;</span> 
          
              <span class="posted-in"><a href='Android%E5%BC%80%E5%8F%91.html'>Androidå¼€å‘</a></span>
           
         
          <span class="comments">
            

            
          </span>

        </div>
      </div><!-- article -->

      <div class="article-content">
      <p>ä»Šå¤©çœ‹èµ„æ–™æ—¶çœ‹åˆ°coolshellçš„è¿™ç¯‡æ–‡ç« ï¼Œè·ç›ŠåŒªæµ…ï¼Œæ”¶è—åˆ°æ–‡åº“é‡Œã€‚</p>

<p>è¯‘æ–‡åŸæ–‡ï¼š<a href="http://coolshell.cn/articles/1051.html">http://coolshell.cn/articles/1051.html</a><br/>
è‹±æ–‡åŸæ–‡ï¼š<a href="http://www.artima.com/lejava/articles/equality.html">http://www.artima.com/lejava/articles/equality.html</a></p>

<p><strong>è¯‘è€…æ³¨</strong> :ä½ å¯èƒ½ä¼šè§‰å¾—Javaå¾ˆç®€å•ï¼ŒObjectçš„equalså®ç°ä¹Ÿä¼šéå¸¸ç®€å•ï¼Œä½†æ˜¯äº‹å®å¹¶ä¸æ˜¯ä½ æƒ³è±¡çš„è¿™æ ·ï¼Œè€å¿ƒçš„è¯»å®Œæœ¬æ–‡ï¼Œä½ ä¼šå‘ç°ä½ å¯¹Javaäº†è§£çš„æ˜¯å¦‚æ­¤çš„å°‘ã€‚å¦‚æœè¿™ç¯‡æ–‡ç« æ˜¯ä¸€ä»½Javaç¨‹åºå‘˜çš„å…¥èŒç¬”è¯•ï¼Œé‚£ä¹ˆä¸çŸ¥é“æœ‰å¤šå°‘äººä¼šæ‰è½åˆ°è¿™æ ·çš„é™·é˜±ä¸­ã€‚åŸæ–‡è½¬è‡ª<a href="http://www.artima.com/lejava/articles/equality.html">http://www.artima.com/lejava/articles/equality.html</a> ä¸‰ä½ä½œè€…éƒ½æ˜¯ä¸åŒé¢†åŸŸçš„å¤§æ‹¿ï¼Œæœ‰å…´è¶£çš„è¯»è€…å¯ä»¥ä»ä¸Šé¢è¿™ä¸ªè¿æ¥ç›´æ¥å»é˜…è¯»åŸæ–‡ã€‚</p>

<p><strong>æ‘˜è¦</strong></p>

<p>æœ¬æ–‡æè¿°é‡è½½equalsæ–¹æ³•çš„æŠ€æœ¯ï¼Œè¿™ç§æŠ€æœ¯å³ä½¿æ˜¯å…·ç°ç±»çš„å­ç±»å¢åŠ äº†å­—æ®µä¹Ÿèƒ½ä¿è¯equalè¯­ä¹‰çš„æ­£ç¡®æ€§ã€‚</p>

<p>åœ¨ã€ŠEffective Javaã€‹çš„ç¬¬8é¡¹ä¸­ï¼ŒJosh Blochæè¿°äº†å½“ç»§æ‰¿ç±»ä½œä¸ºé¢å‘å¯¹è±¡è¯­è¨€ä¸­çš„ç­‰ä»·å…³ç³»çš„åŸºç¡€é—®é¢˜ï¼Œè¦ä¿è¯æ´¾ç”Ÿç±»çš„equalæ­£ç¡®æ€§è¯­ä¹‰æ‰€ä¼šé¢å¯¹çš„å›°éš¾ã€‚Blochè¿™æ ·å†™åˆ°ï¼š</p>

<blockquote>
<p><strong>é™¤éä½ å¿˜è®°äº†é¢å‘å¯¹è±¡æŠ½è±¡çš„å¥½å¤„ï¼Œå¦åˆ™åœ¨å½“ä½ ç»§æ‰¿ä¸€ä¸ªæ–°ç±»æˆ–åœ¨ç±»ä¸­å¢åŠ äº†ä¸€ä¸ªå€¼ç»„ä»¶æ—¶ä½ æ— æ³•åŒæ—¶ä¿è¯equalçš„è¯­ä¹‰ä¾ç„¶æ­£ç¡®</strong></p>
</blockquote>

<p>åœ¨ã€ŠProgramming in Scalaã€‹ä¸­çš„ç¬¬28ç« æ¼”ç¤ºäº†ä¸€ç§æ–¹æ³•ï¼Œè¿™ç§æ–¹æ³•å…è®¸å³ä½¿ç»§æ‰¿äº†æ–°ç±»ï¼Œå¢åŠ äº†æ–°çš„å€¼ç»„ä»¶ï¼Œequalçš„è¯­ä¹‰ä»ç„¶èƒ½å¾—åˆ°ä¿è¯ã€‚è™½ç„¶åœ¨è¿™æœ¬ä¹¦ä¸­è¿™é¡¹æŠ€æœ¯æ˜¯åœ¨ä½¿ç”¨Scalaç±»ç¯å¢ƒä¸­ï¼Œä½†æ˜¯è¿™é¡¹æŠ€æœ¯åŒæ ·å¯ä»¥åº”ç”¨äºJavaå®šä¹‰çš„ç±»ä¸­ã€‚åœ¨æœ¬æ–‡ä¸­çš„æè¿°æ¥è‡ªäºProgramming in Scalaä¸­çš„æ–‡å­—æè¿°ï¼Œä½†æ˜¯ä»£ç è¢«æˆ‘ä»scalaç¿»è¯‘æˆäº†Java</p>

<h4 id="toc_0">å¸¸è§çš„ç­‰ä»·æ–¹æ³•é™·é˜±</h4>

<p>java.lang.Object ç±»å®šä¹‰äº†equalsè¿™ä¸ªæ–¹æ³•ï¼Œå®ƒçš„å­ç±»å¯ä»¥é€šè¿‡é‡è½½æ¥è¦†ç›–å®ƒã€‚ä¸å¹¸çš„æ˜¯ï¼Œåœ¨é¢å‘å¯¹è±¡ä¸­å†™å‡ºæ­£ç¡®çš„equalsæ–¹æ³•æ˜¯éå¸¸å›°éš¾çš„ã€‚äº‹å®ä¸Šï¼Œåœ¨ç ”ç©¶äº†å¤§é‡çš„Javaä»£ç åï¼Œ2007 paperçš„ä½œè€…å¾—å‡ºäº†å¦‚ä¸‹çš„ä¸€ä¸ªç»“è®ºï¼š</p>

<blockquote>
<p>å‡ ä¹æ‰€æœ‰çš„equalsæ–¹æ³•çš„å®ç°éƒ½æ˜¯é”™è¯¯çš„ï¼</p>
</blockquote>

<p>è¿™ä¸ªé—®é¢˜æ˜¯å› ä¸ºç­‰ä»·æ˜¯å’Œå¾ˆå¤šå…¶ä»–çš„äº‹ç‰©ç›¸å…³è”ã€‚ä¾‹å¦‚å…¶ä¸­ä¹‹ä¸€ï¼Œä¸€ä¸ªçš„ç±»å‹Cçš„é”™è¯¯ç­‰ä»·æ–¹æ³•å¯èƒ½æ„å‘³ç€ä½ æ— æ³•å°†è¿™ä¸ªç±»å‹Cçš„å¯¹è±¡å¯ä¿¡èµ–çš„æ”¾å…¥åˆ°å®¹å™¨ä¸­ã€‚æ¯”å¦‚è¯´ï¼Œä½ æœ‰ä¸¤ä¸ªå…ƒç´ elem1å’Œelem2ä»–ä»¬éƒ½æ˜¯ç±»å‹Cçš„å¯¹è±¡ï¼Œå¹¶ä¸”ä»–ä»¬æ˜¯ç›¸ç­‰ï¼Œå³<code>elem1.equals(elm2)</code>è¿”å›tureã€‚ä½†æ˜¯ï¼Œåªè¦è¿™ä¸ªequalsæ–¹æ³•æ˜¯é”™è¯¯çš„å®ç°ï¼Œé‚£ä¹ˆä½ å°±æœ‰å¯èƒ½ä¼šçœ‹è§å¦‚ä¸‹çš„ä¸€äº›è¡Œä¸ºï¼š</p>

<pre><code>Set hashSet&lt;C&gt; = new java.util.HashSet&lt;C&gt;();
hashSet.add(elem1);
hashSet.contains(elem2);    // returns false!&lt;/pre&gt;
</code></pre>

<p>å½“equalsé‡è½½æ—¶ï¼Œè¿™é‡Œæœ‰4ä¸ªä¼šå¼•å‘equalsè¡Œä¸ºä¸ä¸€è‡´çš„å¸¸è§é™·é˜±ï¼š</p>

<ol>
<li> å®šä¹‰äº†é”™è¯¯çš„equalsæ–¹æ³•ç­¾å(signature) Defining equals with the wrong signature.</li>
<li> é‡è½½äº†equalsçš„ä½†æ²¡æœ‰åŒæ—¶é‡è½½hashCodeçš„æ–¹æ³•ã€‚ Changing equals without also changing hashCode.</li>
<li> å»ºç«‹åœ¨ä¼šå˜åŒ–å­—åŸŸä¸Šçš„equalså®šä¹‰ã€‚ Defining equals in terms of mutable fields.</li>
<li> ä¸æ»¡è¶³ç­‰ä»·å…³ç³»çš„equalsé”™è¯¯å®šä¹‰ Failing to define equals as an equivalence relation.</li>
</ol>

<p>åœ¨å‰©ä¸‹çš„ç« èŠ‚ä¸­æˆ‘ä»¬å°†ä¾æ¬¡è®¨è®ºè¿™4ä¸­é™·é˜±ã€‚</p>

<h4 id="toc_1">é™·é˜±1ï¼šå®šä¹‰é”™è¯¯equalsæ–¹æ³•ç­¾å(signature)</h4>

<p>è€ƒè™‘ä¸ºä¸‹é¢è¿™ä¸ªç®€å•ç±»Pointå¢åŠ ä¸€ä¸ªç­‰ä»·æ€§æ–¹æ³•ï¼š</p>

<pre><code>public class Point {

    private final int x;
    private final int y;

    public Point(int x, int y) {
        this.x = x;
        this.y = y;
    }

    public int getX() {
        return x;
    }

    public int getY() {
        return y;
    }

    // ...
}
</code></pre>

<p>çœ‹ä¸Šå»éå¸¸æ˜æ˜¾ï¼Œä½†æ˜¯æŒ‰ç…§è¿™ç§æ–¹å¼æ¥å®šä¹‰equalså°±æ˜¯é”™è¯¯çš„ã€‚</p>

<pre><code>// An utterly wrong definition of equals
public boolean equals(Point other) {
  return (this.getX() == other.getX() &amp;&amp; this.getY() == other.getY());
}
</code></pre>

<p>è¿™ä¸ªæ–¹æ³•æœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿåˆçœ‹èµ·æ¥ï¼Œå®ƒå·¥ä½œçš„éå¸¸å®Œç¾ï¼š</p>

<pre><code>Point p1 = new Point(1, 2);
Point p2 = new Point(1, 2);

Point q = new Point(2, 3);

System.out.println(p1.equals(p2)); // prints true

System.out.println(p1.equals(q)); // prints false
</code></pre>

<p>ç„¶è€Œï¼Œå½“æˆ‘ä»¬ä¸€æ—¦æŠŠè¿™ä¸ªPointç±»çš„å®ä¾‹æ”¾å…¥åˆ°ä¸€ä¸ªå®¹å™¨ä¸­é—®é¢˜å°±å‡ºç°äº†ï¼š</p>

<pre><code>import java.util.HashSet;

HashSet&lt;Point&gt; coll = new HashSet&lt;Point&gt;();
coll.add(p1);

System.out.println(coll.contains(p2)); // prints false
</code></pre>

<p>ä¸ºä»€ä¹ˆcollä¸­æ²¡æœ‰åŒ…å«p2å‘¢ï¼Ÿç”šè‡³æ˜¯p1ä¹Ÿè¢«åŠ åˆ°é›†åˆé‡Œé¢ï¼Œp1å’Œp2æ˜¯æ˜¯ç­‰ä»·çš„å¯¹è±¡å—ï¼Ÿåœ¨ä¸‹é¢çš„ç¨‹åºä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°å…¶ä¸­çš„ä¸€äº›åŸå› ï¼Œå®šä¹‰p2aæ˜¯ä¸€ä¸ªæŒ‡å‘p2çš„å¯¹è±¡ï¼Œä½†æ˜¯p2açš„ç±»å‹æ˜¯Objectè€ŒéPointç±»å‹ï¼š</p>

<pre><code>Object p2a = p2;
</code></pre>

<p>ç°åœ¨æˆ‘ä»¬é‡å¤ç¬¬ä¸€ä¸ªæ¯”è¾ƒï¼Œä½†æ˜¯ä¸å†ä½¿ç”¨p2è€Œæ˜¯p2a,æˆ‘ä»¬å°†ä¼šå¾—åˆ°å¦‚ä¸‹çš„ç»“æœï¼š</p>

<pre><code>System.out.println(p1.equals(p2a)); // prints false
</code></pre>

<p>åˆ°åº•æ˜¯é‚£é‡Œå‡ºäº†äº†é—®é¢˜ï¼Ÿäº‹å®ä¸Šï¼Œä¹‹å‰æ‰€ç»™å‡ºçš„equalsç‰ˆæœ¬å¹¶æ²¡æœ‰è¦†ç›–Objectç±»çš„equalsæ–¹æ³•ï¼Œå› ä¸ºä»–çš„ç±»å‹ä¸åŒã€‚ä¸‹é¢æ˜¯Objectçš„equalsæ–¹æ³•çš„å®šä¹‰</p>

<pre><code>public boolean equals(Object other)
</code></pre>

<p>å› ä¸ºPointç±»ä¸­çš„equalsæ–¹æ³•ä½¿ç”¨çš„æ˜¯ä»¥Pointç±»è€ŒéObjectç±»åšä¸ºå‚æ•°ï¼Œå› æ­¤å®ƒå¹¶æ²¡æœ‰è¦†ç›–Objectä¸­çš„equalsæ–¹æ³•ã€‚è€Œæ˜¯ä¸€ç§å˜åŒ–äº†çš„é‡è½½ã€‚åœ¨Javaä¸­é‡è½½è¢«è§£æä¸ºé™æ€çš„å‚æ•°ç±»å‹è€Œéè¿è¡ŒæœŸçš„ç±»å‹ï¼Œå› æ­¤å½“é™æ€å‚æ•°ç±»å‹æ˜¯Point,Pointçš„equalsæ–¹æ³•å°±è¢«è°ƒç”¨ã€‚ç„¶è€Œå½“é™æ€å‚æ•°ç±»å‹æ˜¯Objectæ—¶ï¼ŒObjectç±»çš„equalså°±è¢«è°ƒç”¨ã€‚å› ä¸ºè¿™ä¸ªæ–¹æ³•å¹¶æ²¡æœ‰è¢«è¦†ç›–ï¼Œå› æ­¤å®ƒä»ç„¶æ˜¯å®ç°æˆæ¯”è¾ƒå¯¹è±¡æ ‡ç¤ºã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè™½ç„¶p1å’Œp2aå…·æœ‰åŒæ ·çš„x,yå€¼ï¼Œâ€p1.equals(p2a)â€ä»ç„¶è¿”å›äº†falseã€‚è¿™ä¹Ÿæ˜¯ä¼šä»€ä¹ˆHasSetçš„containsæ–¹æ³•è¿”å›falseçš„åŸå› ï¼Œå› ä¸ºè¿™ä¸ªæ–¹æ³•æ“ä½œçš„æ˜¯æ³›å‹ï¼Œä»–è°ƒç”¨çš„æ˜¯ä¸€èˆ¬åŒ–çš„Objectä¸Šequalsæ–¹æ³•è€ŒéPointç±»ä¸Šå˜åŒ–äº†çš„é‡è½½æ–¹æ³•equals</p>

<p>ä¸€ä¸ªæ›´å¥½ä½†ä¸å®Œç¾çš„equalsæ–¹æ³•å®šä¹‰å¦‚ä¸‹ï¼š</p>

<pre><code>// A better definition, but still not perfect
@Override public boolean equals(Object other) {
    boolean result = false;
    if (other instanceof Point) {
        Point that = (Point) other;
        result = (this.getX() == that.getX() &amp;&amp; this.getY() == that.getY());
    }
    return result;
}
</code></pre>

<p>ç°åœ¨equalsæœ‰äº†æ­£ç¡®çš„ç±»å‹ï¼Œå®ƒä½¿ç”¨äº†ä¸€ä¸ªObjectç±»å‹çš„å‚æ•°å’Œä¸€ä¸ªè¿”å›å¸ƒå°”å‹çš„ç»“æœã€‚è¿™ä¸ªæ–¹æ³•çš„å®ç°ä½¿ç”¨instanceofæ“ä½œå’Œåšäº†ä¸€ä¸ªé€ å‹ã€‚å®ƒé¦–å…ˆæ£€æŸ¥è¿™ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ä¸€ä¸ªPointç±»ï¼Œå¦‚æœæ˜¯ï¼Œä»–å°±æ¯”è¾ƒä¸¤ä¸ªç‚¹çš„åæ ‡å¹¶è¿”å›ç»“æœï¼Œå¦åˆ™è¿”å›falseã€‚</p>

<h4 id="toc_2">é™·é˜±2ï¼šé‡è½½äº†equalsçš„ä½†æ²¡æœ‰åŒæ—¶é‡è½½hashCodeçš„æ–¹æ³•</h4>

<p>å¦‚æœä½ ä½¿ç”¨ä¸Šä¸€ä¸ªå®šä¹‰çš„Pointç±»è¿›è¡Œp1å’Œp2açš„åå¤æ¯”è¾ƒï¼Œä½ éƒ½ä¼šå¾—åˆ°ä½ é¢„æœŸçš„trueçš„ç»“æœã€‚ä½†æ˜¯å¦‚æœä½ å°†è¿™ä¸ªç±»å¯¹è±¡æ”¾å…¥åˆ°HashSet.contains()æ–¹æ³•ä¸­æµ‹è¯•ï¼Œä½ å°±æœ‰å¯èƒ½ä»ç„¶å¾—åˆ°falseçš„ç»“æœï¼š</p>

<pre><code>Point p1 = new Point(1, 2);
Point p2 = new Point(1, 2);

HashSet&lt;Point&gt; coll = new HashSet&lt;Point&gt;();
coll.add(p1);

System.out.println(coll.contains(p2)); // æ‰“å° false (æœ‰å¯èƒ½)
</code></pre>

<p>äº‹å®ä¸Šï¼Œè¿™ä¸ªä¸ªç»“æœä¸æ˜¯100%çš„falseï¼Œä½ ä¹Ÿå¯èƒ½æœ‰è¿”å›tureçš„ç»å†ã€‚å¦‚æœä½ å¾—åˆ°çš„ç»“æœæ˜¯trueçš„è¯ï¼Œé‚£ä¹ˆä½ è¯•è¯•å…¶ä»–çš„åæ ‡å€¼ï¼Œæœ€ç»ˆä½ ä¸€å®šä¼šå¾—åˆ°ä¸€ä¸ªåœ¨é›†åˆä¸­ä¸åŒ…å«çš„ç»“æœã€‚å¯¼è‡´è¿™ä¸ªç»“æœçš„åŸå› æ˜¯Pointé‡è½½äº†equalså´æ²¡æœ‰é‡è½½hashCodeã€‚</p>

<p>æ³¨æ„ä¸Šé¢ä¾‹å­çš„çš„å®¹å™¨æ˜¯ä¸€ä¸ªHashSetï¼Œè¿™å°±æ„å‘³ç€å®¹å™¨ä¸­çš„å…ƒç´ æ ¹æ®ä»–ä»¬çš„å“ˆå¸Œç è¢«è¢«æ”¾å…¥åˆ°â€å“ˆå¸Œæ¡¶ hash bucketsâ€ä¸­ã€‚containsæ–¹æ³•é¦–å…ˆæ ¹æ®å“ˆå¸Œç åœ¨å“ˆå¸Œæ¡¶ä¸­æŸ¥æ‰¾ï¼Œç„¶åè®©æ¡¶ä¸­çš„æ‰€æœ‰å…ƒç´ å’Œæ‰€ç»™çš„å‚æ•°è¿›è¡Œæ¯”è¾ƒã€‚ç°åœ¨ï¼Œè™½ç„¶æœ€åä¸€ä¸ªPointç±»çš„ç‰ˆæœ¬é‡å®šä¹‰äº†equalsæ–¹æ³•ï¼Œä½†æ˜¯å®ƒå¹¶æ²¡æœ‰åŒæ—¶é‡å®šä¹‰hashCodeã€‚å› æ­¤ï¼ŒhashCodeä»ç„¶æ˜¯Objectç±»çš„é‚£ä¸ªç‰ˆæœ¬ï¼Œå³ï¼šæ‰€åˆ†é…å¯¹è±¡çš„ä¸€ä¸ªåœ°å€çš„å˜æ¢ã€‚æ‰€ä»¥p1å’Œp2çš„å“ˆå¸Œç ç†æ‰€å½“ç„¶çš„ä¸åŒäº†ï¼Œç”šè‡³æ˜¯å³æ—¶è¿™ä¸¤ä¸ªç‚¹çš„åæ ‡å®Œå…¨ç›¸åŒã€‚ä¸åŒçš„å“ˆå¸Œç å¯¼è‡´ä»–ä»¬å…·æœ‰æé«˜çš„å¯èƒ½æ€§è¢«æ”¾å…¥åˆ°é›†åˆä¸­ä¸åŒçš„å“ˆå¸Œæ¡¶ä¸­ã€‚containsæ–¹æ³•å°†ä¼šå»æ‰¾p2çš„å“ˆå¸Œç å¯¹åº”å“ˆå¸Œæ¡¶ä¸­çš„åŒ¹é…å…ƒç´ ã€‚ä½†æ˜¯å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œp1ä¸€å®šæ˜¯åœ¨å¦å¤–ä¸€ä¸ªæ¡¶ä¸­ï¼Œå› æ­¤ï¼Œp2æ°¸è¿œæ‰¾ä¸åˆ°p1è¿›è¡ŒåŒ¹é…ã€‚å½“ç„¶p2å’Œp2ä¹Ÿå¯èƒ½å¶å°”ä¼šè¢«æ”¾å…¥åˆ°ä¸€ä¸ªæ¡¶ä¸­ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œcontainsçš„ç»“æœå°±ä¸ºtrueäº†ã€‚</p>

<p>æœ€æ–°ä¸€ä¸ªPointç±»å®ç°çš„é—®é¢˜æ˜¯ï¼Œå®ƒçš„å®ç°è¿èƒŒäº†ä½œä¸ºObjectç±»çš„å®šä¹‰çš„hashCodeçš„è¯­ä¹‰ã€‚</p>

<blockquote>
<p>å¦‚æœä¸¤ä¸ªå¯¹è±¡æ ¹æ®equals(Object)æ–¹æ³•æ˜¯ç›¸ç­‰çš„ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸¤ä¸ªå¯¹è±¡ä¸Šè°ƒç”¨hashCodeæ–¹æ³•åº”è¯¥äº§ç”ŸåŒæ ·çš„å€¼</p>
</blockquote>

<p>äº‹å®ä¸Šï¼Œåœ¨Javaä¸­ï¼ŒhashCodeå’Œequalséœ€è¦ä¸€èµ·è¢«é‡å®šä¹‰æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ã€‚æ­¤å¤–ï¼ŒhashCodeåªå¯ä»¥ä¾èµ–äºequalsä¾èµ–çš„åŸŸæ¥äº§ç”Ÿå€¼ã€‚å¯¹äºPointè¿™ä¸ªç±»æ¥è¯´ï¼Œä¸‹é¢çš„çš„hashCodeå®šä¹‰æ˜¯ä¸€ä¸ªéå¸¸åˆé€‚çš„å®šä¹‰ã€‚</p>

<pre><code>public class Point {

    private final int x;
    private final int y;

    public Point(int x, int y) {
        this.x = x;
        this.y = y;
    }

    public int getX() {
        return x;
    }

    public int getY() {
        return y;
    }

    @Override public boolean equals(Object other) {
        boolean result = false;
        if (other instanceof Point) {
            Point that = (Point) other;
            result = (this.getX() == that.getX() &amp;&amp; this.getY() == that.getY());
        }
        return result;
    }

    @Override public int hashCode() {
        return (41 * (41 + getX()) + getY());
    }

}
</code></pre>

<p>è¿™åªæ˜¯hashCodeä¸€ä¸ªå¯èƒ½çš„å®ç°ã€‚xåŸŸåŠ ä¸Šå¸¸é‡41åçš„ç»“æœå†ä¹˜ä¸41å¹¶å°†ç»“æœåœ¨åŠ ä¸ŠyåŸŸçš„å€¼ã€‚è¿™æ ·åšå°±å¯ä»¥ä»¥ä½æˆæœ¬çš„è¿è¡Œæ—¶é—´å’Œä½æˆæœ¬ä»£ç å¤§å°å¾—åˆ°ä¸€ä¸ªå“ˆå¸Œç çš„åˆç†çš„åˆ†å¸ƒ(<strong>è¯‘è€…æ³¨ï¼š</strong>æ€§ä»·æ¯”ç›¸å¯¹è¾ƒé«˜çš„åšæ³•)ã€‚</p>

<p>å¢åŠ hashCodeæ–¹æ³•é‡è½½ä¿®æ­£äº†å®šä¹‰ç±»ä¼¼Pointç±»ç­‰ä»·æ€§çš„é—®é¢˜ã€‚ç„¶è€Œï¼Œå…³äºç±»çš„ç­‰ä»·æ€§ä»ç„¶æœ‰å…¶ä»–çš„é—®é¢˜ç‚¹å¾…å‘ç°ã€‚</p>

<h4 id="toc_3">é™·é˜±3ï¼šå»ºç«‹åœ¨ä¼šå˜åŒ–å­—æ®µä¸Šçš„equalså®šä¹‰</h4>

<p>è®©æˆ‘ä»¬åœ¨Pointç±»åšä¸€ä¸ªéå¸¸å¾®å°çš„å˜åŒ–</p>

<pre><code>public class Point {

    private int x;
    private int y;

    public Point(int x, int y) {
        this.x = x;
        this.y = y;
    }

    public int getX() {
        return x;
    }

    public int getY() {
        return y;
    }

    public void setX(int x) { // Problematic
        this.x = x;
    }

    public void setY(int y) {
        this.y = y;
    }

    @Override public boolean equals(Object other) {
        boolean result = false;
        if (other instanceof Point) {
            Point that = (Point) other;
            result = (this.getX() == that.getX() &amp;&amp; this.getY() == that.getY());
        }
        return result;
    }

    @Override public int hashCode() {
        return (41 * (41 + getX()) + getY());
    }
}
</code></pre>

<p>å”¯ä¸€çš„ä¸åŒæ˜¯xå’ŒyåŸŸä¸å†æ˜¯finalï¼Œå¹¶ä¸”ä¸¤ä¸ªsetæ–¹æ³•è¢«å¢åŠ åˆ°ç±»ä¸­æ¥ï¼Œå¹¶å…è®¸å®¢æˆ·æ”¹å˜xå’Œyçš„å€¼ã€‚equalså’ŒhashCodeè¿™ä¸ªæ–¹æ³•çš„å®šä¹‰ç°åœ¨æ˜¯åŸºäºåœ¨è¿™ä¸¤ä¸ªä¼šå‘ç”Ÿå˜åŒ–çš„åŸŸä¸Šï¼Œå› æ­¤å½“ä»–ä»¬çš„åŸŸçš„å€¼æ”¹å˜æ—¶ï¼Œç»“æœä¹Ÿå°±è·Ÿç€æ”¹å˜ã€‚å› æ­¤ä¸€æ—¦ä½ å°†è¿™ä¸ªpointå¯¹è±¡æ”¾å…¥åˆ°é›†åˆä¸­ä½ å°†ä¼šçœ‹åˆ°éå¸¸ç¥å¥‡çš„æ•ˆæœã€‚</p>

<pre><code>Point p = new Point(1, 2);

HashSet&lt;Point&gt; coll = new HashSet&lt;Point&gt;();
coll.add(p);

System.out.println(coll.contains(p)); // æ‰“å° true
</code></pre>

<p>ç°åœ¨å¦‚æœä½ æ”¹å˜pä¸­çš„ä¸€ä¸ªåŸŸï¼Œè¿™ä¸ªé›†åˆä¸­è¿˜ä¼šåŒ…å«pointå—ï¼Œæˆ‘ä»¬å°†æ‹­ç›®ä»¥å¾…ã€‚</p>

<pre><code>p.setX(p.getX() + 1);

System.out.println(coll.contains(p)); // (æœ‰å¯èƒ½)æ‰“å° false
</code></pre>

<p>çœ‹èµ·æ¥éå¸¸çš„å¥‡æ€ªã€‚på»é‚£é‡Œå»äº†ï¼Ÿå¦‚æœä½ é€šè¿‡é›†åˆçš„è¿­ä»£å™¨æ¥æ£€æŸ¥pæ˜¯å¦åŒ…å«ï¼Œä½ å°†ä¼šå¾—åˆ°æ›´å¥‡æ€ªçš„ç»“æœã€‚</p>

<pre><code>Iterator&lt;Point&gt; it = coll.iterator();
boolean containedP = false;
while (it.hasNext()) {
    Point nextP = it.next();
    if (nextP.equals(p)) {
        containedP = true;
        break;
    }
}

System.out.println(containedP); // æ‰“å° true
</code></pre>

<p>ç»“æœæ˜¯ï¼Œé›†åˆä¸­ä¸åŒ…å«pï¼Œä½†æ˜¯påœ¨é›†åˆçš„å…ƒç´ ä¸­ï¼åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼å½“ç„¶ï¼Œæ‰€æœ‰çš„è¿™ä¸€åˆ‡éƒ½æ˜¯åœ¨xåŸŸçš„ä¿®æ”¹åæ‰å‘ç”Ÿçš„ï¼Œpæœ€ç»ˆçš„çš„hashCodeæ˜¯åœ¨é›†åˆcollé”™è¯¯çš„å“ˆå¸Œæ¡¶ä¸­ã€‚å³ï¼ŒåŸå§‹å“ˆå¸Œæ¡¶ä¸å†æœ‰å…¶æ–°å€¼å¯¹åº”çš„å“ˆå¸Œç ã€‚æ¢å¥è¯è¯´ï¼Œpå·²ç»åœ¨é›†åˆcollçš„æ˜¯è§†é‡èŒƒå›´ä¹‹å¤–ï¼Œè™½ç„¶ä»–ä»ç„¶å±äºcollçš„å…ƒç´ ã€‚</p>

<p>ä»è¿™ä¸ªä¾‹å­æ‰€å¾—åˆ°çš„æ•™è®­æ˜¯ï¼Œå½“equalså’ŒhashCodeä¾èµ–äºä¼šå˜åŒ–çš„çŠ¶æ€æ—¶ï¼Œé‚£ä¹ˆå°±ä¼šç»™ç”¨æˆ·å¸¦æ¥é—®é¢˜ã€‚å¦‚æœè¿™æ ·çš„å¯¹è±¡è¢«æ”¾å…¥åˆ°é›†åˆä¸­ï¼Œç”¨æˆ·å¿…é¡»å°å¿ƒï¼Œä¸è¦ä¿®æ”¹è¿™äº›è¿™äº›å¯¹è±¡æ‰€ä¾èµ–çš„çŠ¶æ€ï¼Œè¿™æ˜¯ä¸€ä¸ªå°é™·é˜±ã€‚å¦‚æœä½ éœ€è¦æ ¹æ®å¯¹è±¡å½“å‰çš„çŠ¶æ€è¿›è¡Œæ¯”è¾ƒçš„è¯ï¼Œä½ åº”è¯¥ä¸è¦å†é‡å®šä¹‰equalsï¼Œåº”è¯¥èµ·å…¶ä»–çš„æ–¹æ³•åå­—è€Œä¸æ˜¯equalsã€‚å¯¹äºæˆ‘ä»¬çš„Pointç±»çš„æœ€åçš„å®šä¹‰ï¼Œæˆ‘ä»¬æœ€å¥½çœç•¥æ‰hashCodeçš„é‡è½½ï¼Œå¹¶å°†æ¯”è¾ƒçš„æ–¹æ³•åå‘½åä¸ºequalsContentsï¼Œæˆ–å…¶ä»–ä¸åŒäºequalsçš„åå­—ã€‚é‚£ä¹ˆPointå°†ä¼šç»§æ‰¿åŸæ¥é»˜è®¤çš„equalså’ŒhashCodeçš„å®ç°ï¼Œå› æ­¤å½“æˆ‘ä»¬ä¿®æ”¹äº†xåŸŸåpä¾ç„¶ä¼šå‘†åœ¨å…¶åŸæ¥åœ¨å®¹å™¨ä¸­åº”è¯¥åœ¨ä½ç½®ã€‚</p>

<h4 id="toc_4">é™·é˜±4ï¼šä¸æ»¡è¶³ç­‰ä»·å…³ç³»çš„equalsé”™è¯¯å®šä¹‰</h4>

<p>Objectä¸­çš„equalsçš„è§„èŒƒé˜è¿°äº†equalsæ–¹æ³•å¿…é¡»å®ç°åœ¨énullå¯¹è±¡ä¸Šçš„ç­‰ä»·å…³ç³»ï¼š</p>

<ul>
<li>  è‡ªååŸåˆ™ï¼šå¯¹äºä»»ä½•énullå€¼X,è¡¨è¾¾å¼x.equals(x)æ€»è¿”å›trueã€‚</li>
<li>  ç­‰ä»·æ€§ï¼šå¯¹äºä»»ä½•éç©ºå€¼xå’Œyï¼Œé‚£ä¹ˆå½“ä¸”ä»…å½“y.equals(x)è¿”å›çœŸæ—¶ï¼Œx.equals(y)è¿”å›çœŸã€‚</li>
<li>  ä¼ é€’æ€§ï¼šå¯¹äºä»»ä½•éç©ºå€¼x,y,å’Œzï¼Œå¦‚æœx.equals(y)è¿”å›çœŸï¼Œä¸”y.equals(z)ä¹Ÿè¿”å›çœŸï¼Œé‚£ä¹ˆx.equals(z)ä¹Ÿåº”è¯¥è¿”å›çœŸã€‚</li>
<li>  ä¸€è‡´æ€§ï¼šå¯¹äºéç©ºx,yï¼Œå¤šæ¬¡è°ƒç”¨x.equals(y)åº”è¯¥ä¸€è‡´çš„è¿”å›çœŸæˆ–å‡ã€‚æä¾›ç»™equalsæ–¹æ³•æ¯”è¾ƒä½¿ç”¨çš„ä¿¡æ¯ä¸åº”è¯¥åŒ…å«æ”¹è¿‡çš„ä¿¡æ¯ã€‚</li>
<li>  å¯¹äºä»»ä½•éç©ºå€¼x,x.equals(null)åº”è¯¥æ€»è¿”å›false.</li>
</ul>

<p>Pointç±»çš„equalså®šä¹‰å·²ç»è¢«å¼€å‘æˆäº†è¶³å¤Ÿæ»¡è¶³equalsè§„èŒƒçš„å®šä¹‰ã€‚ç„¶è€Œï¼Œå½“è€ƒè™‘åˆ°ç»§æ‰¿çš„æ—¶å€™ï¼Œäº‹æƒ…å°±å¼€å§‹å˜å¾—éå¸¸å¤æ‚èµ·æ¥ã€‚æ¯”å¦‚è¯´æœ‰ä¸€ä¸ªPointçš„å­ç±»ColoredPointï¼Œå®ƒæ¯”Pointå¤šå¢åŠ äº†ä¸€ä¸ªç±»å‹æ˜¯Colorçš„coloråŸŸã€‚å‡è®¾Colorè¢«å®šä¹‰ä¸ºä¸€ä¸ªæšä¸¾ç±»å‹ï¼š</p>

<pre><code>public enum Color {
    RED, ORANGE, YELLOW, GREEN, BLUE, INDIGO, VIOLET;
}
</code></pre>

<p>ColoredPointé‡è½½äº†equalsæ–¹æ³•ï¼Œå¹¶è€ƒè™‘åˆ°æ–°åŠ å…¥coloråŸŸï¼Œä»£ç å¦‚ä¸‹ï¼š</p>

<pre><code>public class ColoredPoint extends Point { // Problem: equals not symmetric

    private final Color color;

    public ColoredPoint(int x, int y, Color color) {
        super(x, y);
        this.color = color;
    }

    @Override public boolean equals(Object other) {
        boolean result = false;
        if (other instanceof ColoredPoint) {
            ColoredPoint that = (ColoredPoint) other;
            result = (this.color.equals(that.color) &amp;&amp; super.equals(that));
        }
        return result;
    }
}
</code></pre>

<p>è¿™æ˜¯å¾ˆå¤šç¨‹åºå‘˜éƒ½æœ‰å¯èƒ½å†™æˆçš„ä»£ç ã€‚æ³¨æ„åœ¨æœ¬ä¾‹ä¸­ï¼Œç±»ColoredPointedä¸éœ€è¦é‡è½½hashCodeï¼Œå› ä¸ºæ–°çš„ColoredPointç±»ä¸Šçš„equalså®šä¹‰ï¼Œä¸¥æ ¼çš„é‡è½½äº†Pointä¸Šequalsçš„å®šä¹‰ã€‚hashCodeçš„è§„èŒƒä»ç„¶æ˜¯æœ‰æ•ˆï¼Œå¦‚æœä¸¤ä¸ªç€è‰²ç‚¹(colored point)ç›¸ç­‰ï¼Œå…¶åæ ‡å¿…å®šç›¸ç­‰ï¼Œå› æ­¤å®ƒçš„hashCodeä¹Ÿä¿è¯äº†å…·æœ‰åŒæ ·çš„å€¼ã€‚</p>

<p>å¯¹äºColoredPointç±»è‡ªèº«å¯¹è±¡çš„æ¯”è¾ƒæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯å¦‚æœä½¿ç”¨ColoredPointå’ŒPointæ··åˆè¿›è¡Œæ¯”è¾ƒå°±è¦å‡ºç°é—®é¢˜ã€‚</p>

<pre><code>Point p = new Point(1, 2);

ColoredPoint cp = new ColoredPoint(1, 2, Color.RED);

System.out.println(p.equals(cp)); // æ‰“å°çœŸ true

System.out.println(cp.equals(p)); // æ‰“å°å‡ false
</code></pre>

<p>â€œpç­‰ä»·äºcpâ€çš„æ¯”è¾ƒè¿™ä¸ªè°ƒç”¨çš„æ˜¯å®šä¹‰åœ¨Pointç±»ä¸Šçš„equalsæ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•åªè€ƒè™‘ä¸¤ä¸ªç‚¹çš„åæ ‡ã€‚å› æ­¤æ¯”è¾ƒè¿”å›çœŸã€‚åœ¨å¦å¤–ä¸€æ–¹é¢ï¼Œâ€œcpç­‰ä»·äºpâ€çš„æ¯”è¾ƒè¿™ä¸ªè°ƒç”¨çš„æ˜¯å®šä¹‰åœ¨ColoredPointç±»ä¸Šçš„equalsæ–¹æ³•ï¼Œè¿”å›çš„ç»“æœå´æ˜¯falseï¼Œè¿™æ˜¯å› ä¸ºpä¸æ˜¯ColoredPointï¼Œæ‰€ä»¥equalsè¿™ä¸ªå®šä¹‰è¿èƒŒäº†å¯¹ç§°æ€§ã€‚</p>

<p>è¿èƒŒå¯¹ç§°æ€§å¯¹äºé›†åˆæ¥è¯´å°†å¯¼è‡´ä¸å¯ä»¥é¢„æœŸçš„åæœï¼Œä¾‹å¦‚ï¼š</p>

<pre><code>Set&lt;Point&gt; hashSet1 = new java.util.HashSet&lt;Point&gt;();
hashSet1.add(p);
System.out.println(hashSet1.contains(cp));    // æ‰“å° false

Set&lt;Point&gt; hashSet2 = new java.util.HashSet&lt;Point&gt;();
hashSet2.add(cp);
System.out.println(hashSet2.contains(p));    // æ‰“å° true
</code></pre>

<p>å› æ­¤è™½ç„¶på’Œcpæ˜¯ç­‰ä»·çš„ï¼Œä½†æ˜¯containsæµ‹è¯•ä¸­ä¸€ä¸ªè¿”å›æˆåŠŸï¼Œå¦å¤–ä¸€ä¸ªå´è¿”å›å¤±è´¥ã€‚</p>

<p>ä½ å¦‚ä½•ä¿®æ”¹equalsçš„å®šä¹‰ï¼Œæ‰èƒ½ä½¿å¾—è¿™ä¸ªæ–¹æ³•æ»¡è¶³å¯¹ç§°æ€§ï¼Ÿæœ¬è´¨ä¸Šè¯´æœ‰ä¸¤ç§æ–¹æ³•ï¼Œä½ å¯ä»¥ä½¿å¾—è¿™ç§å…³ç³»å˜å¾—æ›´ä¸€èˆ¬åŒ–æˆ–æ›´ä¸¥æ ¼ã€‚æ›´ä¸€èˆ¬åŒ–çš„æ„æ€æ˜¯è¿™ä¸€å¯¹å¯¹è±¡ï¼Œaå’Œbï¼Œè¢«ç”¨äºè¿›è¡Œå¯¹æ¯”ï¼Œæ— è®ºæ˜¯aæ¯”bè¿˜æ˜¯bæ¯”a éƒ½è¿”å›trueï¼Œä¸‹é¢æ˜¯ä»£ç ï¼š</p>

<pre><code>public class ColoredPoint extends Point { // Problem: equals not transitive

    private final Color color;

    public ColoredPoint(int x, int y, Color color) {
        super(x, y);
        this.color = color;
    }

    @Override public boolean equals(Object other) {
        boolean result = false;
        if (other instanceof ColoredPoint) {
            ColoredPoint that = (ColoredPoint) other;
            result = (this.color.equals(that.color) &amp;&amp; super.equals(that));
        }
        else if (other instanceof Point) {
            Point that = (Point) other;
            result = that.equals(this);
        }
        return result;
    }
}
</code></pre>

<p>åœ¨ColoredPointä¸­çš„equalsçš„æ–°å®šä¹‰æ¯”è€å®šä¹‰ä¸­æ£€æŸ¥äº†æ›´å¤šçš„æƒ…å†µ:å¦‚æœå¯¹è±¡æ˜¯ä¸€ä¸ªPointå¯¹è±¡è€Œä¸æ˜¯ColoredPointï¼Œæ–¹æ³•å°±è½¬å˜ä¸ºPointç±»çš„equalsæ–¹æ³•è°ƒç”¨ã€‚è¿™ä¸ªæ‰€å¸Œæœ›è¾¾åˆ°çš„æ•ˆæœå°±æ˜¯equalsçš„å¯¹ç§°æ€§ï¼Œä¸ç®¡â€cp.equals(p)â€è¿˜æ˜¯â€p.equals(cp)â€çš„ç»“æœéƒ½æ˜¯trueã€‚ç„¶è€Œè¿™ç§æ–¹æ³•ï¼Œequalsçš„è§„èŒƒè¿˜æ˜¯è¢«ç ´åäº†ï¼Œç°åœ¨çš„é—®é¢˜æ˜¯è¿™ä¸ªæ–°ç­‰ä»·æ€§ä¸æ»¡è¶³ä¼ é€’æ€§ã€‚è€ƒè™‘ä¸‹é¢çš„ä¸€æ®µä»£ç å®ä¾‹ï¼Œå®šä¹‰äº†ä¸€ä¸ªç‚¹å’Œè¿™ä¸ªç‚¹ä¸Šä¸Šä¸¤ç§ä¸åŒé¢œè‰²ç‚¹ï¼š</p>

<pre><code>ColoredPoint redP = new ColoredPoint(1, 2, Color.RED);
ColoredPoint blueP = new ColoredPoint(1, 2, Color.BLUE);
</code></pre>

<p>redPç­‰ä»·äºpï¼Œpç­‰ä»·äºblueP</p>

<pre><code>System.out.println(redP.equals(p)); // prints true

System.out.println(p.equals(blueP)); // prints true
</code></pre>

<p>ç„¶è€Œï¼Œå¯¹æ¯”redPå’ŒbluePçš„ç»“æœæ˜¯false:</p>

<pre><code>System.out.println(redP.equals(blueP)); // æ‰“å° false
</code></pre>

<p>å› æ­¤ï¼Œequalsçš„ä¼ é€’æ€§å°±è¢«è¿èƒŒäº†ã€‚</p>

<p>ä½¿equalsçš„å…³ç³»æ›´ä¸€èˆ¬åŒ–ä¼¼ä¹ä¼šå°†æˆ‘ä»¬å¸¦å…¥åˆ°æ­»èƒ¡åŒã€‚æˆ‘ä»¬åº”è¯¥é‡‡ç”¨æ›´ä¸¥æ ¼åŒ–çš„æ–¹æ³•ã€‚ä¸€ç§æ›´ä¸¥æ ¼åŒ–çš„equalsæ–¹æ³•æ˜¯è®¤ä¸ºä¸åŒç±»çš„å¯¹è±¡æ˜¯ä¸åŒçš„ã€‚è¿™ä¸ªå¯ä»¥é€šè¿‡ä¿®æ”¹Pointç±»å’ŒColoredPointç±»çš„equalsæ–¹æ³•æ¥è¾¾åˆ°ã€‚ä½ èƒ½å¢åŠ é¢å¤–çš„æ¯”è¾ƒæ¥æ£€æŸ¥æ˜¯å¦è¿è¡Œæ€çš„è¿™ä¸ªPointç±»å’Œé‚£ä¸ªPointç±»æ˜¯åŒä¸€ä¸ªç±»ï¼Œå°±åƒå¦‚ä¸‹æ‰€ç¤ºçš„ä»£ç ä¸€æ ·ï¼š</p>

<pre><code>// A technically valid, but unsatisfying, equals method
public class Point {

    private final int x;
    private final int y;

    public Point(int x, int y) {
        this.x = x;
        this.y = y;
    }

    public int getX() {
        return x;
    }

    public int getY() {
        return y;
    }

    @Override public boolean equals(Object other) {
        boolean result = false;
        if (other instanceof Point) {
            Point that = (Point) other;
            result = (this.getX() == that.getX() &amp;&amp; this.getY() == that.getY()
                    &amp;&amp; this.getClass().equals(that.getClass()));
        }
        return result;
    }

    @Override public int hashCode() {
        return (41 * (41 + getX()) + getY());
    }
}
</code></pre>

<p>ä½ ç°åœ¨å¯ä»¥å°†ColoredPointç±»çš„equalså®ç°ç”¨å›åˆšæ‰é‚£ä¸ªä¸æ»¡è¶³å¯¹ç§°æ€§è¦çš„equalså®ç°äº†ã€‚</p>

<pre><code>public class ColoredPoint extends Point { // ä¸å†è¿åå¯¹ç§°æ€§éœ€æ±‚

    private final Color color;

    public ColoredPoint(int x, int y, Color color) {
        super(x, y);
        this.color = color;
    }

    @Override public boolean equals(Object other) {
        boolean result = false;
        if (other instanceof ColoredPoint) {
            ColoredPoint that = (ColoredPoint) other;
            result = (this.color.equals(that.color) &amp;&amp; super.equals(that));
        }
        return result;
    }
}
</code></pre>

<p>è¿™é‡Œï¼ŒPointç±»çš„å®ä¾‹åªæœ‰å½“å’Œå¦å¤–ä¸€ä¸ªå¯¹è±¡æ˜¯åŒæ ·ç±»ï¼Œå¹¶ä¸”æœ‰åŒæ ·çš„åæ ‡æ—¶å€™ï¼Œä»–ä»¬æ‰è¢«è®¤ä¸ºæ˜¯ç›¸ç­‰çš„ï¼Œå³æ„å‘³ç€ .getClass()è¿”å›çš„æ˜¯åŒæ ·çš„å€¼ã€‚è¿™ä¸ªæ–°å®šä¹‰çš„ç­‰ä»·å…³ç³»æ»¡è¶³äº†å¯¹ç§°æ€§å’Œä¼ é€’æ€§å› ä¸ºå¯¹äºæ¯”è¾ƒå¯¹è±¡æ˜¯ä¸åŒçš„ç±»æ—¶ç»“æœæ€»æ˜¯falseã€‚æ‰€ä»¥ç€è‰²ç‚¹(colored point)æ°¸è¿œä¸ä¼šç­‰äºç‚¹(point)ã€‚é€šå¸¸è¿™çœ‹èµ·æ¥éå¸¸åˆç†ï¼Œä½†æ˜¯è¿™é‡Œä¹Ÿå­˜åœ¨ç€å¦å¤–ä¸€ç§äº‰è®ºâ€”â€”è¿™æ ·çš„æ¯”è¾ƒè¿‡äºä¸¥æ ¼äº†ã€‚</p>

<p>è€ƒè™‘æˆ‘ä»¬å¦‚ä¸‹è¿™ç§ç¨å¾®çš„è¿‚å›çš„æ–¹å¼æ¥å®šä¹‰æˆ‘ä»¬çš„åæ ‡ç‚¹(1,2)</p>

<pre><code>Point pAnon = new Point(1, 1) {
    @Override public int getY() {
        return 2;
    }
};
</code></pre>

<p>pAnonç­‰äºpå—ï¼Ÿç­”æ¡ˆæ˜¯å‡ï¼Œå› ä¸ºpå’ŒpAnonçš„java.lang.Classå¯¹è±¡ä¸åŒã€‚pæ˜¯Pointï¼Œè€ŒpAnonæ˜¯Pointçš„ä¸€ä¸ªåŒ¿åæ´¾ç”Ÿç±»ã€‚ä½†æ˜¯ï¼Œéå¸¸æ¸…æ™°çš„æ˜¯pAnonçš„ç¡®æ˜¯åœ¨åæ ‡1ï¼Œ2ä¸Šçš„å¦å¤–ä¸€ä¸ªç‚¹ã€‚æ‰€ä»¥å°†ä»–ä»¬è®¤ä¸ºæ˜¯ä¸åŒçš„ç‚¹æ˜¯æ²¡æœ‰ç†ç”±çš„ã€‚</p>

<h4 id="toc_5">canEqual æ–¹æ³•</h4>

<p>åˆ°æ­¤ï¼Œæˆ‘ä»¬çœ‹å…¶æ¥ä¼¼ä¹æ˜¯é‡åˆ°é˜»ç¢äº†ï¼Œå­˜åœ¨ç€ä¸€ç§æ­£å¸¸çš„æ–¹å¼ä¸ä»…å¯ä»¥åœ¨ä¸åŒç±»ç»§æ‰¿å±‚æ¬¡ä¸Šå®šä¹‰ç­‰ä»·æ€§ï¼Œå¹¶ä¸”ä¿è¯å…¶ç­‰ä»·çš„è§„èŒƒæ€§å—ï¼Ÿäº‹å®ä¸Šï¼Œçš„ç¡®å­˜åœ¨è¿™æ ·çš„ä¸€ç§æ–¹æ³•ï¼Œä½†æ˜¯è¿™å°±è¦æ±‚é™¤äº†é‡å®šä¹‰equalså’ŒhashCodeå¤–è¿˜è¦å¦å¤–çš„å®šä¹‰ä¸€ä¸ªæ–¹æ³•ã€‚åŸºæœ¬æ€è·¯å°±æ˜¯åœ¨é‡è½½equals(å’ŒhashCode)çš„åŒæ—¶ï¼Œå®ƒåº”è¯¥ä¹Ÿè¦è¦æ˜ç¡®çš„å£°æ˜è¿™ä¸ªç±»çš„å¯¹è±¡æ°¸è¿œä¸ç­‰ä»·äºå…¶ä»–çš„å®ç°äº†ä¸åŒç­‰ä»·æ–¹æ³•çš„è¶…ç±»çš„å¯¹è±¡ã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®æ ‡ï¼Œæˆ‘ä»¬å¯¹æ¯ä¸€ä¸ªé‡è½½äº†equalsçš„ç±»æ–°å¢ä¸€ä¸ªæ–¹æ³•canEqualæ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•çš„æ–¹æ³•ç­¾åæ˜¯ï¼š</p>

<pre><code>public boolean canEqual(Object other)
</code></pre>

<p>å¦‚æœother å¯¹è±¡æ˜¯canEquals(é‡)å®šä¹‰é‚£ä¸ªç±»çš„å®ä¾‹æ—¶ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•åº”è¯¥è¿”å›çœŸï¼Œå¦åˆ™è¿”å›falseã€‚è¿™ä¸ªæ–¹æ³•ç”±equalsæ–¹æ³•è°ƒç”¨ï¼Œå¹¶ä¿è¯äº†ä¸¤ä¸ªå¯¹è±¡æ˜¯å¯ä»¥ç›¸äº’æ¯”è¾ƒçš„ã€‚ä¸‹é¢Pointç±»çš„æ–°çš„ä¹Ÿæ˜¯æœ€ç»ˆçš„å®ç°ï¼š</p>

<pre><code>public class Point {

    private final int x;
    private final int y;

    public Point(int x, int y) {
        this.x = x;
        this.y = y;
    }

    public int getX() {
        return x;
    }

    public int getY() {
        return y;
    }

    @Override public boolean equals(Object other) {
        boolean result = false;
        if (other instanceof Point) {
            Point that = (Point) other;
            result =(that.canEqual(this) &amp;&amp; this.getX() == that.getX() &amp;&amp; this.getY() == that.getY());
        }
        return result;
    }

    @Override public int hashCode() {
        return (41 * (41 + getX()) + getY());
    }
    public boolean canEqual(Object other) {
        return (other instanceof Point);
    }

}
</code></pre>

<p>è¿™ä¸ªç‰ˆæœ¬çš„Pointç±»çš„equalsæ–¹æ³•ä¸­åŒ…å«äº†ä¸€ä¸ªé¢å¤–çš„éœ€æ±‚ï¼Œé€šè¿‡canEqualsæ–¹æ³•æ¥å†³å®šå¦å¤–ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯æ˜¯æ»¡è¶³å¯ä»¥æ¯”è¾ƒçš„å¯¹è±¡ã€‚åœ¨Pointä¸­çš„canEqualå®£ç§°äº†æ‰€æœ‰çš„Pointç±»å®ä¾‹éƒ½èƒ½è¢«æ¯”è¾ƒã€‚</p>

<p>ä¸‹é¢æ˜¯ColoredPointç›¸åº”çš„å®ç°</p>

<pre><code>public class ColoredPoint extends Point { // ä¸å†è¿èƒŒå¯¹ç§°æ€§

    private final Color color;

    public ColoredPoint(int x, int y, Color color) {
        super(x, y);
        this.color = color;
    }

    @Override public boolean equals(Object other) {
        boolean result = false;
        if (other instanceof ColoredPoint) {
            ColoredPoint that = (ColoredPoint) other;
            result = (that.canEqual(this) &amp;&amp; this.color.equals(that.color) &amp;&amp; super.equals(that));
        }
        return result;
    }

    @Override public int hashCode() {
        return (41 * super.hashCode() + color.hashCode());
    }

    @Override public boolean canEqual(Object other) {
        return (other instanceof ColoredPoint);
    }
}
</code></pre>

<p>åœ¨ä¸Šæ˜¾ç¤ºçš„æ–°ç‰ˆæœ¬çš„Pointç±»å’ŒColoredPointç±»å®šä¹‰ä¿è¯äº†ç­‰ä»·çš„è§„èŒƒã€‚ç­‰ä»·æ˜¯å¯¹ç§°å’Œå¯ä¼ é€’çš„ã€‚æ¯”è¾ƒä¸€ä¸ªPointå’ŒColoredPointç±»æ€»æ˜¯è¿”å›falseã€‚å› ä¸ºç‚¹på’Œç€è‰²ç‚¹cp,â€œp.equals(cp)è¿”å›çš„æ˜¯å‡ã€‚å¹¶ä¸”ï¼Œå› ä¸ºcp.canEqual(p)æ€»è¿”å›falseã€‚ç›¸åçš„æ¯”è¾ƒï¼Œcp.equals(p)åŒæ ·ä¹Ÿè¿”å›falseï¼Œç”±äºpä¸æ˜¯ä¸€ä¸ªColoredPointï¼Œæ‰€ä»¥åœ¨ColoredPointçš„equalsæ–¹æ³•ä½“å†…çš„ç¬¬ä¸€ä¸ªinstanceofæ£€æŸ¥å°±å¤±è´¥äº†ã€‚</p>

<p>å¦å¤–ä¸€ä¸ªæ–¹é¢ï¼Œä¸åŒçš„Pointå­ç±»çš„å®ä¾‹å´æ˜¯å¯ä»¥æ¯”è¾ƒçš„ï¼ŒåŒæ ·æ²¡æœ‰é‡å®šä¹‰ç­‰ä»·æ€§æ–¹æ³•çš„ç±»ä¹Ÿæ˜¯å¯ä»¥æ¯”è¾ƒçš„ã€‚å¯¹äºè¿™ä¸ªæ–°ç±»çš„å®šä¹‰ï¼Œpå’ŒpAnonçš„æ¯”è¾ƒå°†æ€»è¿”å›trueã€‚ä¸‹é¢æ˜¯ä¸€äº›ä¾‹å­ï¼š</p>

<pre><code>Point p = new Point(1, 2);

ColoredPoint cp = new ColoredPoint(1, 2, Color.INDIGO);

Point pAnon = new Point(1, 1) {
    @Override public int getY() {
        return 2;
    }
};

Set&lt;Point&gt; coll = new java.util.HashSet&lt;Point&gt;();
coll.add(p);

System.out.println(coll.contains(p)); // æ‰“å° true

System.out.println(coll.contains(cp)); // æ‰“å° false

System.out.println(coll.contains(pAnon)); // æ‰“å° true
</code></pre>

<p>è¿™äº›ä¾‹å­æ˜¾ç¤ºäº†å¦‚æœçˆ¶ç±»åœ¨equalsçš„å®ç°å®šä¹‰å¹¶è°ƒç”¨äº†canEqualsï¼Œé‚£ä¹ˆå¼€å‘äººå‘˜å®ç°çš„å­ç±»å°±èƒ½å†³å®šè¿™ä¸ªå­ç±»æ˜¯å¦å¯ä»¥å’Œå®ƒçˆ¶ç±»çš„å®ä¾‹è¿›è¡Œæ¯”è¾ƒã€‚ä¾‹å¦‚ColoredPointï¼Œå› ä¸ºå®ƒä»¥â€ä¸€ä¸ªç€è‰²ç‚¹æ°¸è¿œä¸å¯ä»¥ç­‰äºæ™®é€šä¸å¸¦é¢œè‰²çš„ç‚¹é‡è½½äº†â€ canEqualï¼Œæ‰€ä»¥ä»–ä»¬å°±ä¸èƒ½æ¯”è¾ƒã€‚ä½†æ˜¯å› ä¸ºpAnonå¼•ç”¨çš„åŒ¿åå­ç±»æ²¡æœ‰é‡è½½canEqual,å› æ­¤å®ƒçš„å®ä¾‹å°±å¯ä»¥å’ŒPointçš„å®ä¾‹è¿›è¡Œå¯¹æ¯”ã€‚</p>

<p>canEqualæ–¹æ³•çš„ä¸€ä¸ªæ½œåœ¨çš„äº‰è®ºæ˜¯å®ƒæ˜¯å¦è¿èƒŒäº†Liskovæ›¿æ¢å‡†åˆ™(LSP)ã€‚ä¾‹å¦‚ï¼Œé€šè¿‡æ¯”è¾ƒè¿è¡Œæ€çš„ç±»æ¥å®ç°çš„æ¯”è¾ƒæŠ€æœ¯(<strong>è¯‘è€…æ³¨ï¼š</strong> canEqualçš„å‰ä¸€ç‰ˆæœ¬ï¼Œä½¿ç”¨.getClass()çš„é‚£ä¸ªç‰ˆæœ¬)ï¼Œå°†å¯¼è‡´ä¸èƒ½å®šä¹‰å‡ºä¸€ä¸ªå­ç±»ï¼Œè¿™ä¸ªå­ç±»çš„å®ä¾‹å¯ä»¥å’Œå…¶çˆ¶ç±»è¿›è¡Œæ¯”è¾ƒï¼Œå› æ­¤å°±è¿èƒŒäº†LSPã€‚è¿™æ˜¯å› ä¸ºï¼ŒLSPåŸåˆ™æ˜¯è¿™æ ·çš„ï¼Œåœ¨ä»»ä½•ä½ èƒ½ä½¿ç”¨çˆ¶ç±»çš„åœ°æ–¹ä½ éƒ½å¯ä»¥ä½¿ç”¨å­ç±»å»æ›¿æ¢å®ƒã€‚åœ¨ä¹‹å‰ä¾‹å­ä¸­ï¼Œè™½ç„¶cpçš„x,yåæ ‡åŒ¹é…é‚£äº›åœ¨é›†åˆä¸­çš„ç‚¹ï¼Œç„¶è€Œâ€coll.contains(cp)â€ä»ç„¶è¿”å›falseï¼Œè¿™çœ‹èµ·æ¥ä¼¼ä¹è¿èƒŒå¾—äº†LSPå‡†åˆ™ï¼Œå› ä¸ºä½ ä¸èƒ½è¿™é‡Œèƒ½ä½¿ç”¨Pointçš„åœ°æ–¹ä½¿ç”¨ä¸€ä¸ªColoredPointedã€‚ä½†æ˜¯æˆ‘ä»¬è®¤ä¸ºè¿™ç§è§£é‡Šæ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºLSPåŸåˆ™å¹¶æ²¡æœ‰è¦æ±‚å­ç±»å’Œçˆ¶ç±»çš„è¡Œä¸ºä¸€è‡´ï¼Œè€Œä»…è¦æ±‚å…¶è¡Œä¸ºèƒ½ä¸€ç§æ–¹å¼æ»¡è¶³çˆ¶ç±»çš„è§„èŒƒã€‚</p>

<p>é€šè¿‡æ¯”è¾ƒè¿è¡Œæ€çš„ç±»æ¥ç¼–å†™equalsæ–¹æ³•(<strong>è¯‘è€…æ³¨ï¼š</strong> canEqualçš„å‰ä¸€ç‰ˆæœ¬ï¼Œä½¿ç”¨.getClass()çš„é‚£ä¸ªç‰ˆæœ¬)çš„é—®é¢˜å¹¶ä¸æ˜¯è¿èƒŒLSPå‡†åˆ™çš„é—®é¢˜ï¼Œä½†æ˜¯å®ƒä¹Ÿæ²¡æœ‰ä¸ºä½ æŒ‡æ˜ä¸€ç§åˆ›å»ºæ´¾ç”Ÿç±»çš„å®ä¾‹èƒ½å’Œçˆ¶ç±»å®ä¾‹è¿›è¡Œå¯¹æ¯”çš„çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä½¿ç”¨è¿™ç§è¿è¡Œæ€æ¯”è¾ƒçš„æŠ€æœ¯åœ¨ä¹‹å‰çš„â€coll.contains(pAnon)â€å°†ä¼šè¿”å›falseï¼Œå¹¶ä¸”è¿™å¹¶ä¸æ˜¯æˆ‘ä»¬å¸Œæœ›çš„ã€‚ç›¸åæˆ‘ä»¬å¸Œæœ›â€œcoll.contains(cp)â€è¿”å›falseï¼Œå› ä¸ºé€šè¿‡åœ¨ColoredPointä¸­é‡è½½çš„equalsï¼Œæˆ‘åŸºæœ¬ä¸Šå¯ä»¥è¯´ï¼Œä¸€ä¸ªåœ¨åæ ‡1ï¼Œ2ä¸Šç€è‰²ç‚¹å’Œä¸€ä¸ªåæ ‡1ï¼Œ2ä¸Šçš„æ™®é€šç‚¹å¹¶ä¸æ˜¯ä¸€å›äº‹ã€‚ç„¶è€Œï¼Œåœ¨æœ€åçš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬èƒ½ä¼ é€’Pointä¸¤ç§ä¸åŒçš„å­ç±»å®ä¾‹åˆ°é›†åˆä¸­containsæ–¹æ³•ï¼Œå¹¶ä¸”æˆ‘ä»¬èƒ½å¾—åˆ°ä¸¤ä¸ªä¸åŒçš„ç­”æ¡ˆï¼Œå¹¶ä¸”è¿™ä¸¤ä¸ªç­”æ¡ˆéƒ½æ­£ç¡®ã€‚</p>

<p><strong>â€“å…¨æ–‡å®Œâ€“</strong></p>


    

      </div>

      <div class="row">
        <div class="large-6 columns">
        <p class="text-left" style="padding:15px 0px;">
      
          <a href="14730898296691.html" 
          title="Previous Post: Androidä¸­ Integerå¯¹è±¡ä½¿ç”¨==è¿ç®—ç¬¦è¿˜æ˜¯equals()æ–¹æ³•æ¯”è¾ƒå¤§å°?">&laquo; Androidä¸­ Integerå¯¹è±¡ä½¿ç”¨==è¿ç®—ç¬¦è¿˜æ˜¯equals()æ–¹æ³•æ¯”è¾ƒå¤§å°?</a>
      
        </p>
        </div>
        <div class="large-6 columns">
      <p class="text-right" style="padding:15px 0px;">
      
          <a  href="14720509840810.html" 
          title="Next Post: Android GPSå®šä½æ¬ºéª—(æ¨¡æ‹Ÿå®šä½)çš„ä¸¤ç§æ–¹å¼">Android GPSå®šä½æ¬ºéª—(æ¨¡æ‹Ÿå®šä½)çš„ä¸¤ç§æ–¹å¼ &raquo;</a>
      
      </p>
        </div>
      </div>
      <div class="comments-wrap">
        <div class="share-comments">
          <!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5790edd7f65e05aa"></script><div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        
        s.src = '//lixindongtop.disqus.com/embed.js';
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>    <script id="dsq-count-scr" src="//lixindongtop.disqus.com/count.js" async></script>
    
    

          

          
        </div>
      </div>
    </div><!-- article-wrap -->
  </div><!-- large 8 -->




 <div class="large-4 medium-4 columns">
  <div class="hide-for-small">
    <div id="sidebar" class="sidebar">
          <div id="site-info" class="site-info">
            
                <h1>åšå®¢æœªå‘½å</h1>
                <div class="site-des">ä¸“æ³¨äºé‡æˆæ–‡æ€è·¯æ¸…æ™°çš„æŠ€æœ¯æ–‡ç« ã€‚</div>
                <div class="social">









<a target="_blank" class="github" target="_blank" href="http://github.com/auv1107" title="GitHub">GitHub</a>

  <a target="_blank" class="rss" href="atom.xml" title="RSS">RSS</a>
                
              	 </div>
          	</div>

             

              <div id="site-categories" class="side-item ">
                <div class="side-header">
                  <h2>Categories</h2>
                </div>
                <div class="side-content">

      	<p class="cat-list">
        
            <a href="%E7%94%9F%E6%B4%BB%E6%97%A5%E5%B8%B8.html"><strong>ç”Ÿæ´»æ—¥å¸¸</strong></a>
        
            <a href="Android%E5%BC%80%E5%8F%91.html"><strong>Androidå¼€å‘</strong></a>
        
            <a href="%E4%BA%A7%E5%93%81%E6%83%B3%E6%B3%95.html"><strong>äº§å“æƒ³æ³•</strong></a>
        
            <a href="%E5%90%89%E5%AE%83%E5%AD%A6%E4%B9%A0%F0%9F%8E%B8.html"><strong>å‰å®ƒå­¦ä¹ ğŸ¸</strong></a>
        
            <a href="web%E5%BC%80%E5%8F%91.html"><strong>webå¼€å‘</strong></a>
        
            <a href="%E4%B9%A6%E7%B1%8D%E7%94%B5%E5%BD%B1.html"><strong>ä¹¦ç±ç”µå½±</strong></a>
         
        </p>


                </div>
              </div>

              <div id="site-categories" class="side-item">
                <div class="side-header">
                  <h2>Recent Posts</h2>
                </div>
                <div class="side-content">
                <ul class="posts-list">
	      
		      
			      <li class="post">
			        <a href="14864277119252.html">å¼€å‘è¿™ä¸ªChromeæ’ä»¶ï¼Œæ›´é«˜æ•ˆåœ°ç¿»è¯‘ç¤¾åŒºæ–‡æ¡£</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="14864276588598.html">æ·±å…¥ç†è§£LayoutInflater.inflate()</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="14864272317835.html">æœåŠ¡å™¨ä½œé˜²ç›—é“¾å›¾ç‰‡ä¸­è½¬ï¼Œnodejs ä¸Šæ‰‹é¡¹ç›®ç®€æ˜æ•™ç¨‹</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="14864271201285.html">ä½¿ç”¨LeanCloudæœåŠ¡åšä¸€ç«™å¼Chromeæ’ä»¶å¼€å‘â€”â€”Favorite Image</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="14805196774412.html">ç”Ÿè€Œä¸ºäººï¼Œæ€»è¦ç»å†é€ç¤¼è¿™å›äº‹ã€‚é€¢å¹´è¿‡èŠ‚å€’è¿˜å¥½ï¼Œäº²æˆšæœ‹å‹é€äº›åƒçš„å–çš„ä¹Ÿå°±è¿‡å»äº†ã€‚å¯æ˜¯å¹³æ—¶è§æœ‹å‹ï¼Œè¿‡ç”Ÿæ—¥ä¹‹ç±»ï¼Œé€‰æ‹©ä»€ä¹ˆç¤¼ç‰©å°±æˆäº†ä¸€å¤§çƒ¦æ¼ã€‚</a>
			      </li>
		     
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		   
		  		</ul>
                </div>
              </div>
        </div><!-- sidebar -->
      </div><!-- hide for small -->
</div><!-- large 4 -->

</div><!-- row -->

 <div class="page-bottom clearfix">
  <div class="row">
   <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
</div>

        </section>
      </div>
    </div>

  
    

    <script src="asset/js/foundation.min.js"></script>
    <script>
      $(document).foundation();
      function fixSidebarHeight(){
        var w1 = $('.markdown-body').height();
          var w2 = $('#sidebar').height();
          if (w1 > w2) { $('#sidebar').height(w1); };
      }
      $(function(){
        fixSidebarHeight();
      })
      $(window).load(function(){
          fixSidebarHeight();
      });
     
    </script>

    

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?84fca9a2f5023159ce7f5a699c8bf2d0";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


  </body>
</html>
