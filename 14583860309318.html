<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  Creating a Navigation Drawer - 
  
  </title>
 <meta name="description" content="">
 <link href="atom.xml" rel="alternate" title="" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />

    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
    <script src="asset/highlightjs/highlight.pack.js"></script>
    <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
    <script>hljs.initHighlightingOnLoad();</script>
    
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>

<div id="header">
    <h1><a href="index.html"></a></h1>
</div>

</nav>
        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; </span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
      <li><a href="index.html">Home</a></li>
      
        <li class="divider"></li>
        <li><label>ç”Ÿæ´»æ—¥å¸¸</label></li>

          
            <li><a title="10åˆ†é’Ÿå¿«é€Ÿæ­å»ºæ— é™åˆ¶æµé‡çš„"VPN"ï¼ˆshadowsocksåè®®ï¼‰" href="14686843615662.html">10åˆ†é’Ÿå¿«é€Ÿæ­å»ºæ— é™åˆ¶æµé‡çš„"VPN"ï¼ˆshadowsocksåè®®ï¼‰</a></li>
          

      
        <li class="divider"></li>
        <li><label>Androidå¼€å‘</label></li>

          
            <li><a title="PokemonGoç ´è§£" href="14685051740290.html">PokemonGoç ´è§£</a></li>
          
            <li><a title="Creating a Navigation Drawer" href="14583860309318.html">Creating a Navigation Drawer</a></li>
          
            <li><a title="Smartoo å¼€å‘ä¸­é‡åˆ°çš„é—®é¢˜å’Œè§£å†³" href="14539061256073.html">Smartoo å¼€å‘ä¸­é‡åˆ°çš„é—®é¢˜å’Œè§£å†³</a></li>
          

      
        <li class="divider"></li>
        <li><label>äº§å“æƒ³æ³•</label></li>

          
            <li><a title="app æˆ‘æœ‰ä¸€ä¸ªé—®é¢˜" href="14464734385012.html">app æˆ‘æœ‰ä¸€ä¸ªé—®é¢˜</a></li>
          

      
        <li class="divider"></li>
        <li><label>å‰å®ƒå­¦ä¹ ğŸ¸</label></li>

          
            <li><a title="é£ã®è¯—(é£ä¹‹è¯— Wind Song)" href="14530335489771.html">é£ã®è¯—(é£ä¹‹è¯— Wind Song)</a></li>
          
            <li><a title="çˆ¶äº²" href="14478587837704.html">çˆ¶äº²</a></li>
          

      
        <li class="divider"></li>
        <li><label>ä¹¦ç±ç”µå½±</label></li>

          
            <li><a title="ä¸‹ç”ºç«ç®­" href="14488126785387.html">ä¸‹ç”ºç«ç®­</a></li>
          

      
      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>

        <section id="main-content" role="main" class="scroll-container">

          <div class="row">
            <div class="large-3 medium-3 columns">
              <div class="hide-for-small">
                <div class="sidebar">
                <nav>
                  <ul id="side-nav" class="side-nav">

                    
                      <li class="side-title"><span>ç”Ÿæ´»æ—¥å¸¸</span></li>
                        
                          <li><a title="10åˆ†é’Ÿå¿«é€Ÿæ­å»ºæ— é™åˆ¶æµé‡çš„"VPN"ï¼ˆshadowsocksåè®®ï¼‰" href="14686843615662.html">10åˆ†é’Ÿå¿«é€Ÿæ­å»ºæ— é™åˆ¶æµé‡çš„"VPN"ï¼ˆshadowsocksåè®®ï¼‰</a></li>
                        

                    
                      <li class="side-title"><span>Androidå¼€å‘</span></li>
                        
                          <li><a title="PokemonGoç ´è§£" href="14685051740290.html">PokemonGoç ´è§£</a></li>
                        
                          <li><a title="Creating a Navigation Drawer" href="14583860309318.html">Creating a Navigation Drawer</a></li>
                        
                          <li><a title="Smartoo å¼€å‘ä¸­é‡åˆ°çš„é—®é¢˜å’Œè§£å†³" href="14539061256073.html">Smartoo å¼€å‘ä¸­é‡åˆ°çš„é—®é¢˜å’Œè§£å†³</a></li>
                        

                    
                      <li class="side-title"><span>äº§å“æƒ³æ³•</span></li>
                        
                          <li><a title="app æˆ‘æœ‰ä¸€ä¸ªé—®é¢˜" href="14464734385012.html">app æˆ‘æœ‰ä¸€ä¸ªé—®é¢˜</a></li>
                        

                    
                      <li class="side-title"><span>å‰å®ƒå­¦ä¹ ğŸ¸</span></li>
                        
                          <li><a title="é£ã®è¯—(é£ä¹‹è¯— Wind Song)" href="14530335489771.html">é£ã®è¯—(é£ä¹‹è¯— Wind Song)</a></li>
                        
                          <li><a title="çˆ¶äº²" href="14478587837704.html">çˆ¶äº²</a></li>
                        

                    
                      <li class="side-title"><span>ä¹¦ç±ç”µå½±</span></li>
                        
                          <li><a title="ä¸‹ç”ºç«ç®­" href="14488126785387.html">ä¸‹ç”ºç«ç®­</a></li>
                        

                    
                  </ul>
                </nav>
                </div>
              </div>
            </div>
            <div class="large-9 medium-9 columns">

 <div class="markdown-body">
<h1>Creating a Navigation Drawer</h1>

<h2 id="toc_0">è¡¨ç°</h2>

<p>Navigation Drawer <br/>
<img src="media/14583860309318/14583864312339.jpg" alt=""/></p>

<p>æ‰‹æŒ‡ä»å±å¹•å·¦è¾¹å³æ»‘ï¼Œæ‰“å¼€çš„è¿™ä¸ªåƒ Menu ä¸€æ ·çš„çš„é¡µé¢å°±è¢«ç§°ä¸º NavigationDrawerã€‚<br/>
è°·æ­Œåœ¨ MD è§„èŒƒä¸­è¯¦ç»†è¯´æ˜äº†å®ƒçš„è®¾è®¡è§„èŒƒï¼Œåœ¨å¼€å§‹è®¾è®¡ä½ çš„åº”ç”¨æ—¶è¯·åŠ¡å¿…é˜…è¯»ä½œä¸ºå‚è€ƒã€‚<br/>
<a href="http://developer.android.com/design/patterns/navigation-drawer.html">Navigation Drawer</a></p>

<h2 id="toc_1">å®ç°æ€è·¯</h2>

<p>åˆ†æä¸€ä¸‹ï¼Œå¾ˆå®¹æ˜“çœ‹å‡ºæ¥ï¼ŒåŸºæœ¬æ˜¯åˆ†ä¸ºä¸¤å±‚ã€‚ä¸Šå±‚çš„è¿™ä¸ª Drawer å±‚(åŒ…å«ä½ çœ‹åˆ°çš„è¿™ä¸ª View å’Œå¯èƒ½è¢«å¿½ç•¥çš„è¦†ç›–ä¸‹å±‚çš„é˜´å½±)ï¼Œä¸‹å±‚çš„åŒ…å«äº†é¡µé¢æœ¬èº«çš„å†…å®¹å±‚(ActionBar TabLayout å…¶å®ƒå†…å®¹)ã€‚</p>

<h2 id="toc_2">ä½¿ç”¨æ–¹å¼</h2>

<p>æ‰€ä»¥ï¼Œä½¿ç”¨ä¹Ÿå¾ˆç¬¦åˆæ€è€ƒæ¨¡å¼ï¼šä»¥ DrawerLayout ä¸ºæ ¹ View åŒ…å«ä¸¤å±‚å­ Viewã€‚</p>

<h3 id="toc_3">1. XML æ–‡ä»¶</h3>

<pre><code class="language-&lt;android.support.v4.widget.DrawerLayout">    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:id=&quot;@+id/drawer_layout&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;&gt;
    &lt;!-- The main content view --&gt;
    &lt;FrameLayout
        android:id=&quot;@+id/content_frame&quot;
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;match_parent&quot; /&gt;
    &lt;!-- The navigation drawer --&gt;
    &lt;ListView android:id=&quot;@+id/left_drawer&quot;
        android:layout_width=&quot;240dp&quot;
        android:layout_height=&quot;match_parent&quot;
        android:layout_gravity=&quot;start&quot;
        android:choiceMode=&quot;singleChoice&quot;
        android:divider=&quot;@android:color/transparent&quot;
        android:dividerHeight=&quot;0dp&quot;
        android:background=&quot;#111&quot;/&gt;
&lt;/android.support.v4.widget.DrawerLayout&gt;
</code></pre>

<p><strong>æ³¨æ„çš„ç‚¹</strong><br/>
*  å†…å®¹å±‚å¿…é¡»æ˜¯DrawerLayout çš„ç¬¬ä¸€ä¸ªå­ Viewã€‚å› ä¸º XML ä»¥ View çš„é¡ºåºå†³å®š Z çš„æ¬¡åºã€‚<br/>
*  drawer å±‚å¿…é¡»è®¾å®š android:layout_gravity å±æ€§ã€‚ç”¨æ¥æ”¯æŒ right-to-left è¯­è¨€ã€‚æ³¨æ„ç”¨ &quot;start&quot; ä»£æ›¿ &quot;left&quot;ã€‚<br/>
*  drawer å±‚çš„å®½åº¦å°äº320dpï¼Œè¿™æ ·å±•å¼€æ—¶ä¹Ÿèƒ½çœ‹åˆ°ä¸‹æ–¹çš„å†…å®¹ã€‚é«˜åº¦ match_parentã€‚</p>

<h3 id="toc_4">2. ä»£ç å¯¹å†…å®¹è¿›è¡Œé…ç½®</h3>

<pre><code>public class MainActivity extends Activity {
    private String[] mPlanetTitles;
    private DrawerLayout mDrawerLayout;
    private ListView mDrawerList;
    ...

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        mPlanetTitles = getResources().getStringArray(R.array.planets_array);
        mDrawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);
        mDrawerList = (ListView) findViewById(R.id.left_drawer);

        // Set the adapter for the list view
        mDrawerList.setAdapter(new ArrayAdapter&lt;String&gt;(this,
                R.layout.drawer_list_item, mPlanetTitles));
        // Set the list&#39;s click listener
        mDrawerList.setOnItemClickListener(new DrawerItemClickListener());

        ...
    }
}
</code></pre>

<h3 id="toc_5">3. å¤„ç†å…¶å®ƒé—®é¢˜</h3>

<h4 id="toc_6">3.1 å¤„ç†ç‚¹å‡»äº‹ä»¶å¯¼èˆª</h4>

<p>ç»™ Drawer çš„ ListView è®¾ç½® OnItemClickListener å°±è¡Œã€‚<br/>
<strong>ç¤ºä¾‹ä»£ç </strong><br/>
```<br/>
private class DrawerItemClickListener implements ListView.OnItemClickListener {<br/>
    @Override<br/>
    public void onItemClick(AdapterView parent, View view, int position, long id) {<br/>
        selectItem(position);<br/>
    }<br/>
}</p>

<p>/** Swaps fragments in the main content view */<br/>
private void selectItem(int position) {<br/>
    // Create a new fragment and specify the planet to show based on position<br/>
    Fragment fragment = new PlanetFragment();<br/>
    Bundle args = new Bundle();<br/>
    args.putInt(PlanetFragment.ARG_PLANET_NUMBER, position);<br/>
    fragment.setArguments(args);</p>

<pre><code>// Insert the fragment by replacing any existing fragment
FragmentManager fragmentManager = getFragmentManager();
fragmentManager.beginTransaction()
               .replace(R.id.content_frame, fragment)
               .commit();

// Highlight the selected item, update the title, and close the drawer
mDrawerList.setItemChecked(position, true);
setTitle(mPlanetTitles[position]);
mDrawerLayout.closeDrawer(mDrawerList);
</code></pre>

<p>}</p>

<p>@Override<br/>
public void setTitle(CharSequence title) {<br/>
    mTitle = title;<br/>
    getActionBar().setTitle(mTitle);<br/>
}<br/>
```</p>

<h4 id="toc_7">ç›‘å¬ Drawer å±•å¼€ã€å…³é—­äº‹ä»¶</h4>

<p>è°ƒç”¨ DrawerLayout.setDrawerListener() æ–¹æ³•ï¼Œä¼ é€’ä¸€ä¸ª DrawerLayout.DrawerListener æ¥å£çš„å®ç°ã€‚<br/>
å®ç°è¿™ä¸ªæ¥å£æœ‰ä¸¤ç§æ–¹å¼ã€‚<br/>
1. ç›´æ¥å®ç° DrawerListener.<br/>
2. å†™ä¸€ä¸ªç»§æ‰¿ ActionBarDrawerToggle çš„å­ç±»ï¼Œè¿™ä¸ªç±»å®ç°äº†è¿™ä¸ªæ¥å£ï¼Œä½ å¯ä»¥åœ¨å­ç±»ä¸­é‡å†™ DrawerListener æ¥å£å‡½æ•°ã€‚</p>

<p><strong>ç¤ºä¾‹ä»£ç </strong><br/>
```<br/>
public class MainActivity extends Activity {<br/>
    private DrawerLayout mDrawerLayout;<br/>
    private ActionBarDrawerToggle mDrawerToggle;<br/>
    private CharSequence mDrawerTitle;<br/>
    private CharSequence mTitle;<br/>
    ...</p>

<pre><code>@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    ...

    mTitle = mDrawerTitle = getTitle();
    mDrawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);
    mDrawerToggle = new ActionBarDrawerToggle(this, mDrawerLayout,
            R.drawable.ic_drawer, R.string.drawer_open, R.string.drawer_close) {

        /** Called when a drawer has settled in a completely closed state. */
        public void onDrawerClosed(View view) {
            super.onDrawerClosed(view);
            getActionBar().setTitle(mTitle);
            invalidateOptionsMenu(); // creates call to onPrepareOptionsMenu()
        }

        /** Called when a drawer has settled in a completely open state. */
        public void onDrawerOpened(View drawerView) {
            super.onDrawerOpened(drawerView);
            getActionBar().setTitle(mDrawerTitle);
            invalidateOptionsMenu(); // creates call to onPrepareOptionsMenu()
        }
    };

    // Set the drawer toggle as the DrawerListener
    mDrawerLayout.setDrawerListener(mDrawerToggle);
}

/* Called whenever we call invalidateOptionsMenu() */
@Override
public boolean onPrepareOptionsMenu(Menu menu) {
    // If the nav drawer is open, hide action items related to the content view
    boolean drawerOpen = mDrawerLayout.isDrawerOpen(mDrawerList);
    menu.findItem(R.id.action_websearch).setVisible(!drawerOpen);
    return super.onPrepareOptionsMenu(menu);
}
</code></pre>

<p>}<br/>
```</p>

<h4 id="toc_8">é€šè¿‡ App Icon æ‰“å¼€ã€å…³é—­ Drawer</h4>

<p>é€šè¿‡ä½¿ç”¨ ActionBarDrawerToggle ç±»ï¼Œå¯ä»¥æ§åˆ¶è¿™äº›è¡Œä¸ºã€‚<br/>
* ç‚¹å‡»æ§åˆ¶ Drawer è¡Œä¸º<br/>
* æŒ‡å®šå±•å¼€æ—¶çš„ icon</p>

<p>æ ‡å‡†çš„å¯¼èˆª Icon å›¾æ ‡åœ¨ (Download the Action Bar Icon Pack)[<a href="http://developer.android.com/downloads/design/Android_Design_Icons_20130926.zip">http://developer.android.com/downloads/design/Android_Design_Icons_20130926.zip</a>]</p>

<p>æœ€åä½ éœ€è¦åœ¨ Activity çš„ç”Ÿå‘½å‘¨æœŸä¸­ä½¿ç”¨ ActionBarDrawerToggle çš„è¿™äº›æ–¹æ³•ã€‚<br/>
<strong>ç¤ºä¾‹ä»£ç </strong><br/>
```<br/>
public class MainActivity extends Activity {<br/>
    private DrawerLayout mDrawerLayout;<br/>
    private ActionBarDrawerToggle mDrawerToggle;<br/>
    ...</p>

<pre><code>public void onCreate(Bundle savedInstanceState) {
    ...

    mDrawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);
    mDrawerToggle = new ActionBarDrawerToggle(
            this,                  /* host Activity */
            mDrawerLayout,         /* DrawerLayout object */
            R.drawable.ic_drawer,  /* nav drawer icon to replace &#39;Up&#39; caret */
            R.string.drawer_open,  /* &quot;open drawer&quot; description */
            R.string.drawer_close  /* &quot;close drawer&quot; description */
            ) {

        /** Called when a drawer has settled in a completely closed state. */
        public void onDrawerClosed(View view) {
            super.onDrawerClosed(view);
            getActionBar().setTitle(mTitle);
        }

        /** Called when a drawer has settled in a completely open state. */
        public void onDrawerOpened(View drawerView) {
            super.onDrawerOpened(drawerView);
            getActionBar().setTitle(mDrawerTitle);
        }
    };

    // Set the drawer toggle as the DrawerListener
    mDrawerLayout.setDrawerListener(mDrawerToggle);

    getActionBar().setDisplayHomeAsUpEnabled(true);
    getActionBar().setHomeButtonEnabled(true);
}

@Override
protected void onPostCreate(Bundle savedInstanceState) {
    super.onPostCreate(savedInstanceState);
    // Sync the toggle state after onRestoreInstanceState has occurred.
    mDrawerToggle.syncState();
}

@Override
public void onConfigurationChanged(Configuration newConfig) {
    super.onConfigurationChanged(newConfig);
    mDrawerToggle.onConfigurationChanged(newConfig);
}

@Override
public boolean onOptionsItemSelected(MenuItem item) {
    // Pass the event to ActionBarDrawerToggle, if it returns
    // true, then it has handled the app icon touch event
    if (mDrawerToggle.onOptionsItemSelected(item)) {
      return true;
    }
    // Handle your other action bar items...

    return super.onOptionsItemSelected(item);
}
...
</code></pre>

<p>}<br/>
```</p>


</div>

<br /><br />
<hr />

<div class="row clearfix">
  <div class="large-6 columns">
	<div class="text-left" style="padding:15px 0px;">
		
	        <a href="14685051740290.html"  title="Previous Post: PokemonGoç ´è§£">&laquo; PokemonGoç ´è§£</a>
	    
	</div>
  </div>
  <div class="large-6 columns">
	<div class="text-right" style="padding:15px 0px;">
		
	        <a href="14539061256073.html" 
	        title="Next Post: Smartoo å¼€å‘ä¸­é‡åˆ°çš„é—®é¢˜å’Œè§£å†³">Smartoo å¼€å‘ä¸­é‡åˆ°çš„é—®é¢˜å’Œè§£å†³ &raquo;</a>
	    
	</div>
  </div>
</div>

<div class="row">
<div style="padding:0px 0.93em;" class="share-comments">

</div>
</div>
<script type="text/javascript">
	$(function(){
		var currentURL = '14583860309318.html';
		$('#side-nav a').each(function(){
			if($(this).attr('href') == currentURL){
				$(this).parent().addClass('active');
			}
		});
	});
</script>  
</div></div>


<div class="page-bottom">
  <div class="row">
  <hr />
  <div class="small-9 columns">
  <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
  <div class="small-3 columns">
  <p class="copyright text-right"><a href="#header">TOP</a></p>
  </div>
   
  </div>
</div>

        </section>
      </div>
    </div>
    
    
    <script src="asset/js/foundation.min.js"></script>
    <script src="asset/js/foundation/foundation.offcanvas.js"></script>
    <script>
      $(document).foundation();

     
    </script>
    


  </body>
</html>
